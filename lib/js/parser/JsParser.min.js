(function(a){var c=a.defineRootPackage(null,{com:a.definePackage(null,{lodestarlearning:a.definePackage(null,{jsparser:a.definePackage(function(){this.parser_z2kmns$=new c.com.lodestarlearning.jsparser.OperationParser();this.OperatorLookup=a.createObject(null,function(){var g,f;this.START_LOOKUP_dxp6qa$=new c.com.lodestarlearning.jsparser.AlphaTree();this.END_LOOKUP_fi4jx1$=new c.com.lodestarlearning.jsparser.AlphaTree();this.VALUES=c.com.lodestarlearning.jsparser.Operator.values();g=a.modules.stdlib.kotlin.get_lastIndex_eg9ybj$(this.VALUES);for(var d=0;d<=g;d++){var e=this.VALUES[d];if(e.skipAdd){continue}this.START_LOOKUP_dxp6qa$.add_a8ip1j$(e.start,e);if(e.end!=null){this.END_LOOKUP_fi4jx1$.add_a8ip1j$((f=e.end)!=null?f:a.throwNPE(),e)}}},{withStartTag_905azu$:function(d,e){return this.START_LOOKUP_dxp6qa$.find_905azu$(d,e)},withEndTag_905azu$:function(d,e){return this.END_LOOKUP_fi4jx1$.find_905azu$(d,e)}})},{f:function(d){return c.com.lodestarlearning.jsparser.parser_z2kmns$.parse_ivxn3r$(d,false)},f_0:function(e){var d=new c.com.lodestarlearning.jsparser.DynValue();d.set_za3rmp$(ParserApiHooks.Exposed);var f=e.execute_30wzo8$(d);return f},main$f:function(){if(ParserApiHooks==null){throw new a.Exception("A JavaScript object by the name Exposed must be set.")}ParserApiHooks.parse=c.com.lodestarlearning.jsparser.f;ParserApiHooks.execute=c.com.lodestarlearning.jsparser.f_0},main:function(d){c.com.lodestarlearning.jsparser.Value.object.parseLongAsDouble=true;window.onload=c.com.lodestarlearning.jsparser.main$f},AlphaTree:a.createClass(null,function(){this.value=null;this.branches=new a.PrimitiveNumberHashMap()},{add_a8ip1j$:function(h,f,g){if(g===void 0){g=0}if(h.length===g){this.value=f;return}var d=h.charAt(g);var e=this.branches.get_za3rmp$(d);if(e==null){e=new c.com.lodestarlearning.jsparser.AlphaTree();this.branches.put_wn2jw4$(d,e)}(e!=null?e:a.throwNPE()).add_a8ip1j$(h,f,g+1)},find_905azu$:function(h,g){if(h.length===g){return this.value}var d=h.charAt(g);var e=this.branches.get_za3rmp$(d);if(e!=null){var f=e.find_905azu$(h,g+1);if(f!=null){return f}}return this.value}}),DynValue:a.createClass(function(){return[c.com.lodestarlearning.jsparser.Value]},function b(){b.baseInitializer.call(this);this.obj_fwbkai$=null},{get_61zpoe$:function(d){var e=c.com.lodestarlearning.jsparser.Value.prototype.get_61zpoe$.call(this,d);if(e.isVoid()){e=new c.com.lodestarlearning.jsparser.DynValue();e.name=d;this.append_30wzo8$(e);if(this.obj_fwbkai$!=null){e.set_za3rmp$(this.obj_fwbkai$[d])}else{e.set_za3rmp$(null)}}return e},get_za3lpa$:function(d){var e;if(d>this.size){throw new a.IndexOutOfBoundsException(d.toString()+" is out of bounds, must be less than or equal to "+this.size)}else{if(d===this.size){e=new c.com.lodestarlearning.jsparser.DynValue();e.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL;this.append_30wzo8$(e)}else{e=c.com.lodestarlearning.jsparser.Value.prototype.get_za3lpa$.call(this,d);if(e.isVoid()){e=new c.com.lodestarlearning.jsparser.DynValue();if(this.obj_fwbkai$!=null){e.set_za3rmp$(this.obj_fwbkai$[d])}}}}return e},set_za3rmp$:function(d){if(d==null){this.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL}else{if(typeof d==="number"){this.set_14dthe$(d)}else{if(typeof d==="number"){this.set_mx4ult$(d)}else{if(d instanceof a.Long){this.set_s8cxhz$(d)}else{if(typeof d==="number"){this.set_za3lpa$(d)}else{if(typeof d==="boolean"){this.set_6taknv$(d)}else{if(typeof d==="string"){this.set_61zpoe$(d)}else{if(a.equals(typeof(d),"array")){this.type=c.com.lodestarlearning.jsparser.ValueType.object.ARRAY;this.obj_fwbkai$=d}else{if(a.equals(typeof(d),"function")){this.type=c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION;this.obj_fwbkai$=d}else{if(a.equals(typeof(d),"object")){this.type=c.com.lodestarlearning.jsparser.ValueType.object.OBJECT;this.obj_fwbkai$=d}else{throw new a.IllegalArgumentException("Unknown type: "+d)}}}}}}}}}}},set_30wzo8$:function(d){c.com.lodestarlearning.jsparser.Value.prototype.set_30wzo8$.call(this,d);if(a.isType(d,c.com.lodestarlearning.jsparser.DynValue)){this.obj_fwbkai$=d.obj_fwbkai$}else{this.obj_fwbkai$=null}},clear:function(){c.com.lodestarlearning.jsparser.Value.prototype.clear.call(this);this.obj_fwbkai$=null},primitive:function(){var j,i;j=this.type;if(j===c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION){return this.obj_fwbkai$}else{if(j===c.com.lodestarlearning.jsparser.ValueType.object.ARRAY){var f=new Array();var h=this.first;var d=0;while(h!=null){f[d++]=(h!=null?h:a.throwNPE()).primitive();h=(h!=null?h:a.throwNPE()).next}return f}else{if(j===c.com.lodestarlearning.jsparser.ValueType.object.OBJECT){var e=new Object();var g=this.first;while(g!=null){e[(i=(g!=null?g:a.throwNPE()).name)!=null?i:a.throwNPE()]=(g!=null?g:a.throwNPE()).primitive();g=(g!=null?g:a.throwNPE()).next}return e}else{return c.com.lodestarlearning.jsparser.Value.prototype.primitive.call(this)}}}},execute_30wzo8$:function(f){if(!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION)){throw new a.IllegalStateException("Cannot execute a non-function")}if(!f.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){throw new a.IllegalArgumentException("params must be of type ValueType.ARRAY")}var e=new c.com.lodestarlearning.jsparser.DynValue();var d=this.obj_fwbkai$.apply(null,f.primitive());e.set_za3rmp$(d);return e},clone:function(){var d=new c.com.lodestarlearning.jsparser.DynValue();d.set_30wzo8$(this);return d}}),isDigit_myv2d1$:function(d){return d>="0"&&d<="9"||d==="-"||d==="+"},isWhitespace_myv2d1$:function(d){return d<=" "||d===a.toChar(160)},peek_38s8h8$:function(d){if(d.isEmpty()){return null}else{return a.modules.stdlib.kotlin.last_fvq2g0$(d)}},pop_38s8h8$:function(d){if(d.isEmpty()){return null}else{return d.remove_za3lpa$(d.size()-1)}},containsAt_npf0uk$:function(e,g,f){var j;var h=g.length;j=h-1;for(var d=0;d<=j;d++){if(e.charAt(d+f)!==g.charAt(d)){return false}}return true},tokenReplace_kgwev4$:function(e,f){var h;var g=e;h=a.modules.stdlib.kotlin.get_lastIndex_eg9ybj$(f);for(var d=0;d<=h;d++){g=a.modules.stdlib.kotlin.join_i2lh6s$(a.splitString(g,"\\{"+d+"\\}"),f[d])}return g},get_xlvxwk$:function(f,e,d){var g;return(g=f.get_za3rmp$(e))!=null?g:d},Operation_9f03x9$:function(g,d,f){var e=new c.com.lodestarlearning.jsparser.Operation(new c.com.lodestarlearning.jsparser.Value());e.operationA=g;e.operationB=f;e.operator=d;return e},Operation:a.createClass(function(){return[a.Comparable]},function(d){if(d===void 0){d=new c.com.lodestarlearning.jsparser.Value()}this.value=d;this.operationA=null;this.operationB=null;this.operator=null;this.depth=0;this.startIndex=-1;this.endIndex=-1;this.prev=null;this.name=null},{execute_30wzo8$:function(d){var M,L,K,J,H,G,F,E,C,B,A,z,y,w,v,t;this.name=null;this.prev=null;if(this.operator==null){if(this.value.isReference()){return d.get_61zpoe$(this.value.asReference())}else{return this.value.clone()}}var j=((M=this.operationA)!=null?M:a.throwNPE()).execute_30wzo8$(d);if(a.equals(this.operator,c.com.lodestarlearning.jsparser.Operator.object.ELSE)){var I=j.asBoolean();if(!I){var k=((L=this.operationB)!=null?L:a.throwNPE()).execute_30wzo8$(d);if(k.isPrimitive()){this.value.set_6taknv$(k.asBoolean())}else{this.value.set_6taknv$(true)}}else{this.value.set_6taknv$(true)}return this.value}else{if(a.equals(this.operator,c.com.lodestarlearning.jsparser.Operator.object.OBJ)){if(!j.isVoid()){if(!j.isBoolean()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.UNEXPECTED_TOKEN,[j.toString()])}if(j.asBoolean()){this.setValue_1(true);((K=this.operationB)!=null?K:a.throwNPE()).execute_30wzo8$(d);return this.value}else{this.setValue_1(false);return this.value}}}}var i=((J=this.operationB)!=null?J:a.throwNPE()).execute_30wzo8$(d);H=this.operator;if(H===c.com.lodestarlearning.jsparser.Operator.object.IF||H===c.com.lodestarlearning.jsparser.Operator.object.FUN||H===c.com.lodestarlearning.jsparser.Operator.object.OBJ||H===c.com.lodestarlearning.jsparser.Operator.object.TERM||H===c.com.lodestarlearning.jsparser.Operator.object.TERM2||H===c.com.lodestarlearning.jsparser.Operator.object.ARR){}else{if(H===c.com.lodestarlearning.jsparser.Operator.object.NEG||H===c.com.lodestarlearning.jsparser.Operator.object.BNOT||H===c.com.lodestarlearning.jsparser.Operator.object.LNOT){if(i.isVoid()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.VOID_SIDED_OPERATION)}}else{if(H===c.com.lodestarlearning.jsparser.Operator.object.ELSE){if(j.isVoid()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.VOID_SIDED_OPERATION)}}else{if(H===c.com.lodestarlearning.jsparser.Operator.object.INC||H===c.com.lodestarlearning.jsparser.Operator.object.DEC){if(j.isVoid()&&i.isVoid()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.VOID_OPERATION)}}else{if(j.isVoid()||i.isVoid()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.VOID_SIDED_OPERATION)}}}}}G=this.operator;if(G===c.com.lodestarlearning.jsparser.Operator.object.INC){if(j.isVoid()){var x=i;x.add_30wzo8$(c.com.lodestarlearning.jsparser.Value.object.ONE);this.setValue(x.clone());return this.value}else{var u=j;this.setValue(u.clone());u.add_30wzo8$(c.com.lodestarlearning.jsparser.Value.object.ONE);return this.value}}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.DEC){if(j.isVoid()){var s=i;s.sub_30wzo8$(c.com.lodestarlearning.jsparser.Value.object.ONE);this.setValue(s.clone());return this.value}else{var r=j;this.setValue(r.clone());r.sub_30wzo8$(c.com.lodestarlearning.jsparser.Value.object.ONE);return this.value}}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.FUN){if(j.isVoid()){this.setValue(i)}else{if(!j.isFunction()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_FUNCTION_EXECUTION)}var g=new c.com.lodestarlearning.jsparser.Value();g.type=c.com.lodestarlearning.jsparser.ValueType.object.ARRAY;c.com.lodestarlearning.jsparser.setChildren(g,(F=this.operationB)!=null?F:a.throwNPE());this.setValue(j.execute_30wzo8$(g))}return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.ARR){if(j.isVoid()){this.value.type=c.com.lodestarlearning.jsparser.ValueType.object.ARRAY;c.com.lodestarlearning.jsparser.setChildren(this.value,(E=this.operationB)!=null?E:a.throwNPE())}else{var h;if(j.isNull()){j.type=c.com.lodestarlearning.jsparser.ValueType.object.ARRAY}if(j.isArray()){try{h=j.get_za3lpa$(i.asInt())}catch(D){if(a.isType(D,a.IndexOutOfBoundsException)){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.INDEX_OUT_OF_BOUNDS,[i.asString()])}else{throw D}}}else{if(j.isObject()){if(i.isVoid()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.VOID_SIDED_OPERATION)}h=j.get_61zpoe$(i.asString())}else{throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.PRIMITIVE_MEMBER_ACCESS)}}this.setValue(h)}return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.OBJ){if(j.isVoid()){this.value.type=c.com.lodestarlearning.jsparser.ValueType.object.OBJECT;c.com.lodestarlearning.jsparser.setChildren(this.value,(C=this.operationB)!=null?C:a.throwNPE());return this.value}else{throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.UNEXPECTED_TOKEN)}}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.ELE){if(j.isObject()){if(!((B=this.operationB)!=null?B:a.throwNPE()).value.isReference()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_VARIABLE_MEMBER_ACCESS)}this.setValue(j.get_61zpoe$(((A=this.operationB)!=null?A:a.throwNPE()).value.asReference()));return this.value}else{if(j.isNull()){this.value.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL;return this.value}else{throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.PRIMITIVE_MEMBER_ACCESS)}}}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.NEG){if(j.isVoid()){this.setValue(c.com.lodestarlearning.jsparser.Value_s8cxhz$(a.Long.ZERO))}else{this.setValue(j)}if(!this.value.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.value.sub_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.BNOT){if(!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(i);this.value.bnot();return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.LNOT){if(!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(i);this.value.not();return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.MUL){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.mul_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.DIV){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}var f=i;if(f.isZero()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.DIVISION_BY_ZERO)}this.setValue(j);this.value.div_30wzo8$(f);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.MOD){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.mod_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.ADD){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.add_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.SUB){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.sub_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.NAME){this.setValue(i);if(((z=this.operationA)!=null?z:a.throwNPE()).value.isReference()){this.name=((y=this.operationA)!=null?y:a.throwNPE()).value.asReference()}else{this.name=((w=this.operationA)!=null?w:a.throwNPE()).value.asString()}return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.LT){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.compareTo_30wzo8$(i)<0);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.GT){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.compareTo_30wzo8$(i)>0);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.GTE){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.compareTo_30wzo8$(i)>=0);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.LTE){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.compareTo_30wzo8$(i)<=0);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.EQ){this.setValue_1(j.equals_za3rmp$(i));return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.NEQ){this.setValue_1(!j.equals_za3rmp$(i));return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.BAND){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.band_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.BXOR){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.bxor_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.BOR){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue(j);this.value.bor_30wzo8$(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.LAND){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.and_30wzo8$(i));return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.LOR){if(!j.isPrimitive()||!i.isPrimitive()){throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.NON_PRIMITIVE_MATH)}this.setValue_1(j.or_30wzo8$(i));return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.COMMA){this.setValue(i);this.name=((v=this.operationB)!=null?v:a.throwNPE()).name;this.prev=this.operationA;return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.ASS){var q=j;q.set_30wzo8$(i);this.setValue(i);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.PLUS_ASS){var p=j;this.setValue(j);this.value.add_30wzo8$(i);p.set_30wzo8$(this.value);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.MINUS_ASS){var o=j;this.setValue(j);this.value.sub_30wzo8$(i);o.set_30wzo8$(this.value);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.MUL_ASS){var n=j;this.setValue(j);this.value.mul_30wzo8$(i);n.set_30wzo8$(this.value);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.DIV_ASS){var m=j;this.setValue(j);this.value.div_30wzo8$(i);m.set_30wzo8$(this.value);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.MOD_ASS){var l=j;this.setValue(j);this.value.mod_30wzo8$(i);l.set_30wzo8$(this.value);return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.ELVIS){if(j.isVoid()||j.isNull()){this.setValue(i)}else{this.setValue(j)}return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.TERM2||G===c.com.lodestarlearning.jsparser.Operator.object.TERM){if(i.isVoid()){this.setValue(j)}else{this.setValue(i)}return this.value}else{if(G===c.com.lodestarlearning.jsparser.Operator.object.IF){this.setValue(i);return this.value}else{throw new c.com.lodestarlearning.jsparser.ParseException(this.startIndex_1(),this.endIndex_1(),c.com.lodestarlearning.jsparser.ParseExceptionType.object.UNSUPPORTED_OPERATOR,[((t=this.operator)!=null?t:a.throwNPE()).start])}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},setValue:function(d){this.value=d;return this.value},setValue_1:function(d){this.value.set_za3rmp$(d);return this.value},append_sp72gj$:function(f,g,j){var h,e,d;if(f.operator!=null){var k=this.append_sp72gj$((h=f.operationA)!=null?h:a.throwNPE(),g,j);return k.append_sp72gj$((e=f.operationB)!=null?e:a.throwNPE(),(d=f.operator)!=null?d:a.throwNPE(),f.depth)}var i=new c.com.lodestarlearning.jsparser.Operation();i.operator=g;i.operationB=f;i.depth=j;var m=null;var l=this;while(l!=null&&i.compareTo_za3rmp$(l!=null?l:a.throwNPE())>0){m=l;l=(l!=null?l:a.throwNPE()).operationB}if(m==null){i.operationA=this;return i}else{i.operationA=(m!=null?m:a.throwNPE()).operationB;(m!=null?m:a.throwNPE()).operationB=i;return this}},toString:function(){var k,j,i,h,g,f,e,d;if(this.operator==null){return this.value.toString()}if(((k=this.operator)!=null?k:a.throwNPE()).end!=null){return((j=this.operationA)!=null?j:a.throwNPE()).toString()+((i=this.operator)!=null?i:a.throwNPE()).start+((h=this.operationB)!=null?h:a.throwNPE()).toString()+((g=this.operator)!=null?g:a.throwNPE()).end}return((f=this.operationA)!=null?f:a.throwNPE()).toString()+((e=this.operator)!=null?e:a.throwNPE()).start+((d=this.operationB)!=null?d:a.throwNPE()).toString()},priority:function(){var d;if(this.operator==null){return 10000000000}return this.depth*1000+((d=this.operator)!=null?d:a.throwNPE()).priority},compareTo_za3rmp$:function(d){return a.primitiveCompareTo(this.priority(),d.priority())},optimize:function(){this.reduce(this)},reduce:function(f){if(f==null){return true}if(f.operator==null){return !f.value.isReference()}else{var e=this.reduce(f.operationA);var d=this.reduce(f.operationB);if(e&&d){f.cache();return true}return false}},cache:function(){this.execute_30wzo8$(new c.com.lodestarlearning.jsparser.Value());this.operationA=null;this.operator=null;this.operationB=null},startIndex_1:function(){var d;return((d=this.operationA)!=null?d:a.throwNPE()).right().startIndex},endIndex_1:function(){var d;return((d=this.operationB)!=null?d:a.throwNPE()).left().endIndex},right:function(){var d;if(this.operationB==null){return this}return((d=this.operationB)!=null?d:a.throwNPE()).right()},left:function(){var d;if(this.operationA==null){return this}return((d=this.operationA)!=null?d:a.throwNPE()).left()}}),setChildren:function(e,d){var g;if(!(e.isArray()||e.isObject())){throw new a.Exception("Cannot set the children of a Value that is neither Array nor Object")}e.clearChildren();if(d.value.isVoid()){return}var f=d;while(f!=null){if((f!=null?f:a.throwNPE()).name!=null){e.prepend_db2edy$((f!=null?f:a.throwNPE()).value.clone(),(g=(f!=null?f:a.throwNPE()).name)!=null?g:a.throwNPE())}else{e.prepend_30wzo8$((f!=null?f:a.throwNPE()).value.clone())}f=(f!=null?f:a.throwNPE()).prev}},OperationParser:a.createClass(null,function(){this.STOP_TAGS_jiu5at$=new c.com.lodestarlearning.jsparser.AlphaTree();this.stopEnd_9a8riw$=null;this.STOP_TAGS_jiu5at$.add_a8ip1j$('"','"');this.STOP_TAGS_jiu5at$.add_a8ip1j$("'","'");this.STOP_TAGS_jiu5at$.add_a8ip1j$("/**","**/");this.STOP_TAGS_jiu5at$.add_a8ip1j$("//","\n")},{parse_ivxn3r$:function(f,e){if(e===void 0){e=true}if(f==null){return new c.com.lodestarlearning.jsparser.Operation(c.com.lodestarlearning.jsparser.Value.object.VOID)}this.stopEnd_9a8riw$=null;var d=this.parseInternal(f,0,f.length);if(e){d.optimize()}return d},parseInternal:function(r,p,k){var j,h,f,e,d;var n=p;var t=null;var q=null;var g=0;var m=new a.ArrayList();var l=n;while(l<k){if(this.stopEnd_9a8riw$==null){this.stopEnd_9a8riw$=this.STOP_TAGS_jiu5at$.find_905azu$(r,l);if(this.stopEnd_9a8riw$!=null){l++;continue}}else{if(c.com.lodestarlearning.jsparser.containsAt_npf0uk$(r,(j=this.stopEnd_9a8riw$)!=null?j:a.throwNPE(),l)){this.stopEnd_9a8riw$=null}else{l++;continue}}var s=c.com.lodestarlearning.jsparser.OperatorLookup.withEndTag_905azu$(r,l);if(s!=null){if(m.size()===0||!s.equals_za3rmp$(c.com.lodestarlearning.jsparser.peek_38s8h8$(m))){throw new c.com.lodestarlearning.jsparser.ParseException(l,l+1,c.com.lodestarlearning.jsparser.ParseExceptionType.object.EXTRA_END_TOKEN,[(h=s.end)!=null?h:a.throwNPE()])}t=this.appendOperation(t,q,r,n,l,g);c.com.lodestarlearning.jsparser.pop_38s8h8$(m);g=m.size();q=null;n=l+((f=s.end)!=null?f:a.throwNPE()).length;l=n-1}var o=c.com.lodestarlearning.jsparser.OperatorLookup.withStartTag_905azu$(r,l);if(o!=null){if(a.equals(o,c.com.lodestarlearning.jsparser.Operator.object.SUB)&&this.isWhitespace(r,n,l)){o=c.com.lodestarlearning.jsparser.Operator.object.NEG}if(a.equals(o,c.com.lodestarlearning.jsparser.Operator.object.ELE)&&this.isNumeric(r,n,l)){l++;continue}t=this.appendOperation(t,q,r,n,l,g);q=o;g=m.size();n=l+(o!=null?o:a.throwNPE()).start.length;l=n-1;if((o!=null?o:a.throwNPE()).end!=null){m.add_za3rmp$(o!=null?o:a.throwNPE())}}l++}if(m.size()>0){throw new c.com.lodestarlearning.jsparser.ParseException(l,l+1,c.com.lodestarlearning.jsparser.ParseExceptionType.object.MISSING_END_TOKEN,[(d=((e=c.com.lodestarlearning.jsparser.peek_38s8h8$(m))!=null?e:a.throwNPE()).end)!=null?d:a.throwNPE()])}t=this.appendOperation(t,q,r,n,l,0);return t!=null?t:a.throwNPE()},isNumeric:function(g,d,f){var e=d;while(e<f&&c.com.lodestarlearning.jsparser.isWhitespace_myv2d1$(g.charAt(e))){e++}if(e!==f){if(c.com.lodestarlearning.jsparser.isDigit_myv2d1$(g.charAt(e))){return true}}return false},isWhitespace:function(g,d,f){var e=d;while(e<f&&c.com.lodestarlearning.jsparser.isWhitespace_myv2d1$(g.charAt(e))){e++}return e===f},appendOperation:function(g,e,k,n,f,h){var m=n;var j=f;while(m<j&&c.com.lodestarlearning.jsparser.isWhitespace_myv2d1$(k.charAt(m))){m++}while(m<j&&c.com.lodestarlearning.jsparser.isWhitespace_myv2d1$(k.charAt(j-1))){j--}if(e==null){if(g==null){var i=this.parsePrimitive(k,m,j);i.depth=h;i.startIndex=m;i.endIndex=j;return i}else{if(m!==j){throw new c.com.lodestarlearning.jsparser.ParseException(m,j,c.com.lodestarlearning.jsparser.ParseExceptionType.object.UNEXPECTED_TOKEN,[k.charAt(m).toString()])}return g}}else{var l=this.parsePrimitive(k,m,j);l.depth=h;l.startIndex=m;l.endIndex=j;var d=(g!=null?g:a.throwNPE()).append_sp72gj$(l,e,h);return d}},parsePrimitive:function(f,e,g){var d=c.com.lodestarlearning.jsparser.Value.object.fromString_3m52m6$(f,e,g);return new c.com.lodestarlearning.jsparser.Operation(d)}}),Operator:a.createEnumClass(function(){return[a.Enum]},function b(f,g,e,d){if(e===void 0){e=null}if(d===void 0){d=false}b.baseInitializer.call(this);this.priority=f;this.start=g;this.end=e;this.skipAdd=d},function(){return{IF:new c.com.lodestarlearning.jsparser.Operator(100,"if"),FUN:new c.com.lodestarlearning.jsparser.Operator(22,"(",")"),ARR:new c.com.lodestarlearning.jsparser.Operator(22,"[","]"),OBJ:new c.com.lodestarlearning.jsparser.Operator(22,"{","}"),ELE:new c.com.lodestarlearning.jsparser.Operator(22,"."),ELSE:new c.com.lodestarlearning.jsparser.Operator(21,"else"),NEG:new c.com.lodestarlearning.jsparser.Operator(20,"-",null,true),INC:new c.com.lodestarlearning.jsparser.Operator(19,"++"),DEC:new c.com.lodestarlearning.jsparser.Operator(19,"--"),LNOT:new c.com.lodestarlearning.jsparser.Operator(19,"!"),BNOT:new c.com.lodestarlearning.jsparser.Operator(19,"~"),MUL:new c.com.lodestarlearning.jsparser.Operator(17,"*"),DIV:new c.com.lodestarlearning.jsparser.Operator(17,"/"),MOD:new c.com.lodestarlearning.jsparser.Operator(17,"%"),ADD:new c.com.lodestarlearning.jsparser.Operator(16,"+"),SUB:new c.com.lodestarlearning.jsparser.Operator(16,"-"),LT:new c.com.lodestarlearning.jsparser.Operator(14,"<"),LTE:new c.com.lodestarlearning.jsparser.Operator(14,"<="),GT:new c.com.lodestarlearning.jsparser.Operator(14,">"),GTE:new c.com.lodestarlearning.jsparser.Operator(14,">="),EQ:new c.com.lodestarlearning.jsparser.Operator(13,"=="),NEQ:new c.com.lodestarlearning.jsparser.Operator(13,"!="),BAND:new c.com.lodestarlearning.jsparser.Operator(12,"&"),BXOR:new c.com.lodestarlearning.jsparser.Operator(11,"^"),BOR:new c.com.lodestarlearning.jsparser.Operator(10,"|"),LAND:new c.com.lodestarlearning.jsparser.Operator(9,"&&"),LOR:new c.com.lodestarlearning.jsparser.Operator(8,"||"),ELVIS:new c.com.lodestarlearning.jsparser.Operator(7,"?:"),NAME:new c.com.lodestarlearning.jsparser.Operator(6,":"),ASS:new c.com.lodestarlearning.jsparser.Operator(6,"="),PLUS_ASS:new c.com.lodestarlearning.jsparser.Operator(6,"+="),MINUS_ASS:new c.com.lodestarlearning.jsparser.Operator(6,"-="),MUL_ASS:new c.com.lodestarlearning.jsparser.Operator(6,"*="),DIV_ASS:new c.com.lodestarlearning.jsparser.Operator(6,"/="),MOD_ASS:new c.com.lodestarlearning.jsparser.Operator(6,"%="),TERM:new c.com.lodestarlearning.jsparser.Operator(5,";"),TERM2:new c.com.lodestarlearning.jsparser.Operator(5,"\n"),COMMA:new c.com.lodestarlearning.jsparser.Operator(4,",")}}),ParseException:a.createClass(function(){return[a.Exception]},function b(g,e,d,f){if(f===void 0){f=[]}b.baseInitializer.call(this,c.com.lodestarlearning.jsparser.tokenReplace_kgwev4$(d.defaultMessage,f));this.startIndex=g;this.endIndex=e;this.type=d;this.params=f}),ParseExceptionType:a.createEnumClass(function(){return[a.Enum]},function b(e,d){b.baseInitializer.call(this);this.key=e;this.defaultMessage=d},function(){return{MISSING_END_TOKEN:new c.com.lodestarlearning.jsparser.ParseExceptionType("MISSING_END_TOKEN","Missing end token {0}"),EXTRA_END_TOKEN:new c.com.lodestarlearning.jsparser.ParseExceptionType("EXTRA_END_TOKEN","Unexpected end token {0}"),UNEXPECTED_TOKEN:new c.com.lodestarlearning.jsparser.ParseExceptionType("UNEXPECTED_TOKEN","Unexpected token {0}"),UNTERMINATED_STRING:new c.com.lodestarlearning.jsparser.ParseExceptionType("UNTERMINATED_STRING","Unterminated String"),VOID_OPERATION:new c.com.lodestarlearning.jsparser.ParseExceptionType("VOID_OPERATION","Operation does nothing"),VOID_SIDED_OPERATION:new c.com.lodestarlearning.jsparser.ParseExceptionType("VOID_SIDED_OPERATION","Cannot perform operation on empty value"),PRIMITIVE_MEMBER_ACCESS:new c.com.lodestarlearning.jsparser.ParseExceptionType("PRIMITIVE_MEMBER_ACCESS","Illegal member access on primitive value"),INDEX_OUT_OF_BOUNDS:new c.com.lodestarlearning.jsparser.ParseExceptionType("INDEX_OUT_OF_BOUNDS","Array index {0} is out of bounds"),NULL_MEMBER_ACCESS:new c.com.lodestarlearning.jsparser.ParseExceptionType("NULL_MEMBER_ACCESS","Illegal member access on null value"),NON_VARIABLE_MEMBER_ACCESS:new c.com.lodestarlearning.jsparser.ParseExceptionType("NON_VARIABLE_MEMBER_ACCESS","Invalid property name"),NON_VARIABLE_ASSIGNMENT:new c.com.lodestarlearning.jsparser.ParseExceptionType("NON_VARIABLE_ASSIGNMENT","Invalid assignment"),VOID_ASSIGNMENT:new c.com.lodestarlearning.jsparser.ParseExceptionType("VOID_ASSIGNMENT","May not assign void to a variable"),DIVISION_BY_ZERO:new c.com.lodestarlearning.jsparser.ParseExceptionType("DIVISION_BY_ZERO","Division by zero"),NON_FUNCTION_EXECUTION:new c.com.lodestarlearning.jsparser.ParseExceptionType("NON_FUNCTION_EXECUTION","Cannot execute a non-function"),NON_PRIMITIVE_MATH:new c.com.lodestarlearning.jsparser.ParseExceptionType("NON_PRIMITIVE_MATH","Cannot perform math on complex object"),UNSUPPORTED_OPERATOR:new c.com.lodestarlearning.jsparser.ParseExceptionType("UNSUPPORTED_OPERATOR","Unsupported operator {0}")}}),Value_eq31u$:function(d){var e=new c.com.lodestarlearning.jsparser.Value();e.type=d;return e},Value_61zpoe$:function(e){var d=new c.com.lodestarlearning.jsparser.Value();d.set_61zpoe$(e);return d},Value_14dthe$:function(e){var d=new c.com.lodestarlearning.jsparser.Value();d.set_14dthe$(e);return d},Value_s8cxhz$:function(e){var d=new c.com.lodestarlearning.jsparser.Value();d.set_s8cxhz$(e);return d},Value_6taknv$:function(e){var d=new c.com.lodestarlearning.jsparser.Value();d.set_6taknv$(e);return d},Value:a.createClass(function(){return[a.modules.builtins.kotlin.Iterable]},function(){this.type=c.com.lodestarlearning.jsparser.ValueType.object.VOID;this.stringValue="";this.doubleValue=0;this.longValue=a.Long.ZERO;this.name=null;this.first=null;this.last=null;this.next=null;this.prev=null;this.size=0},{isObject:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)},isArray:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)},isFunction:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION)},isReference:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.REFERENCE)},isString:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.STRING)},isPrimitive:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE)||this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.LONG)||this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN)||this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.STRING)||this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.NULL)},isNumeric:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE)||this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.LONG)},isDouble:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE)},isLong:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.LONG)},isBoolean:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN)},isNull:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.NULL)},isVoid:function(){return this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.VOID)},isFlat:function(){var d=this.first;while(d!=null){if((d!=null?d:a.throwNPE()).type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)||(d!=null?d:a.throwNPE()).type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){return false}d=(d!=null?d:a.throwNPE()).next}return true},isZero:function(){return this.asDouble()===0},get_za3lpa$:function(d){if(!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){throw new a.IllegalStateException("get(index) called on a non-array")}if(d>=this.size){throw new a.IndexOutOfBoundsException(d.toString()+" was out of bounds. This Array's size is "+this.size)}var e=d;var f=this.first;while(f!=null&&e-->0){f=(f!=null?f:a.throwNPE()).next}return f!=null?f:c.com.lodestarlearning.jsparser.Value.object.VOID},get_61zpoe$:function(d){if(!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)){throw new a.IllegalStateException("get(name) called on a non-object")}var e=this.first;while(e!=null&&!a.equals((e!=null?e:a.throwNPE()).name,d)){e=(e!=null?e:a.throwNPE()).next}return e!=null?e:c.com.lodestarlearning.jsparser.Value.object.VOID},asReference:function(){return this.stringValue},asString:function(){var d;d=this.type;if(d===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return this.stringValue}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue.toString()}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.longValue.toString()}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return !this.longValue.equals_za3rmp$(a.Long.ZERO)?"true":"false"}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return"null"}}}}}throw new a.IllegalStateException("Value cannot be converted to string: "+this.type)},asDouble:function(){var e,d;e=this.type;if(e===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return 0}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return(d=a.safeParseDouble(this.stringValue))!=null?d:0}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.longValue.toNumber()}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return !this.longValue.equals_za3rmp$(a.Long.ZERO)?1:0}}}}}throw new a.IllegalStateException("Value cannot be converted to double: "+this.type)},asFloat:function(){var e,d;e=this.type;if(e===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return 0}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return(d=a.safeParseDouble(this.stringValue))!=null?d:0}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.longValue.toNumber()}else{if(e===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return !this.longValue.equals_za3rmp$(a.Long.ZERO)?1:0}}}}}throw new a.IllegalStateException("Value cannot be converted to float: "+this.type)},asLong:function(){var d;d=this.type;if(d===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return a.Long.ZERO}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.longValue}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return a.Long.fromInt(parseInt(this.stringValue))}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return a.Long.fromNumber(this.doubleValue)}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return a.Long.fromInt(!this.longValue.equals_za3rmp$(a.Long.ZERO)?1:0)}}}}}throw new a.IllegalStateException("Value cannot be converted to long: "+this.type)},asInt:function(){var d;d=this.type;if(d===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return 0}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.longValue.toInt()}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return parseInt(this.stringValue)}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue|0}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return !this.longValue.equals_za3rmp$(a.Long.ZERO)?1:0}}}}}throw new a.IllegalStateException("Value cannot be converted to int: "+this.type)},asBoolean:function(){var d;d=this.type;if(d===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return !this.longValue.equals_za3rmp$(a.Long.ZERO)}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return false}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return a.equals(this.stringValue.toLowerCase(),"true")}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue!==0}else{if(d===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return !this.longValue.equals_za3rmp$(a.Long.ZERO)}}}}}throw new a.IllegalStateException("Value cannot be converted to boolean: "+this.type)},asFloatArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.numberArrayOfSize(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asFloat();e=(e!=null?e:a.throwNPE()).next;d++}return f},asDoubleArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.numberArrayOfSize(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asDouble();e=(e!=null?e:a.throwNPE()).next;d++}return f},asBooleanArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.booleanArrayOfSize(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asBoolean();e=(e!=null?e:a.throwNPE()).next;d++}return f},asIntArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.numberArrayOfSize(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asInt();e=(e!=null?e:a.throwNPE()).next;d++}return f},asLongArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.longArrayOfSize(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asLong();e=(e!=null?e:a.throwNPE()).next;d++}return f},asStringArray:function(){if(!this.isArray()){throw new a.IllegalStateException("Value is not an array: "+this.type)}var f=a.nullArray(this.size);var d=0;var e=this.first;while(e!=null){f[d]=(e!=null?e:a.throwNPE()).asString();e=(e!=null?e:a.throwNPE()).next;d++}return f},set_30wzo8$:function(e){this.type=e.type;this.longValue=e.longValue;this.doubleValue=e.doubleValue;this.stringValue=e.stringValue;var f=e.first;while(f!=null){var d=(f!=null?f:a.throwNPE()).clone();d.name=(f!=null?f:a.throwNPE()).name;this.append_30wzo8$(d);f=(f!=null?f:a.throwNPE()).next}},clone:function(){var d=new c.com.lodestarlearning.jsparser.Value();d.set_30wzo8$(this);return d},setReference_61zpoe$:function(d){this.stringValue=d;this.type=c.com.lodestarlearning.jsparser.ValueType.object.REFERENCE},set_za3rmp$:function(d){if(d==null){this.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL}else{if(typeof d==="number"){this.set_14dthe$(d)}else{if(typeof d==="number"){this.set_mx4ult$(d)}else{if(d instanceof a.Long){this.set_s8cxhz$(d)}else{if(typeof d==="number"){this.set_za3lpa$(d)}else{if(typeof d==="boolean"){this.set_6taknv$(d)}else{if(typeof d==="string"){this.set_61zpoe$(d)}else{if(a.isType(d,c.com.lodestarlearning.jsparser.Value)){this.set_30wzo8$(d)}}}}}}}}},set_61zpoe$:function(d){this.stringValue=d;this.type=c.com.lodestarlearning.jsparser.ValueType.object.STRING},set_14dthe$:function(d){this.doubleValue=d;this.type=c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE},set_mx4ult$:function(d){this.set_14dthe$(d)},set_s8cxhz$:function(d){this.longValue=d;this.type=c.com.lodestarlearning.jsparser.ValueType.object.LONG},set_za3lpa$:function(d){this.set_s8cxhz$(a.Long.fromInt(d))},set_6taknv$:function(d){this.longValue=a.Long.fromInt(d?1:0);this.type=c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN},bnot:function(){this.set_s8cxhz$(this.asLong().inv())},not:function(){this.set_6taknv$(!this.asBoolean())},mul_30wzo8$:function(d){if(this.isLong()){this.longValue=this.longValue.multiply(d.asLong())}else{if(this.isBoolean()||this.isDouble()){this.doubleValue*=d.asDouble()}else{this.set_14dthe$(this.asDouble());this.doubleValue*=d.asDouble()}}},div_30wzo8$:function(d){if(this.isLong()){this.longValue=this.longValue.div(d.asLong())}else{if(this.isBoolean()||this.isDouble()){this.doubleValue/=d.asDouble()}else{this.set_14dthe$(this.asDouble());this.doubleValue/=d.asDouble()}}},mod_30wzo8$:function(d){if(this.isLong()){this.longValue=this.longValue.modulo(d.asLong())}else{if(this.isBoolean()||this.isDouble()){this.doubleValue%=d.asDouble()}else{this.set_14dthe$(this.asDouble());this.doubleValue%=d.asDouble()}}},add_30wzo8$:function(d){if(this.isNull()){this.type=d.type}if(this.isString()||d.isString()){this.type=c.com.lodestarlearning.jsparser.ValueType.object.STRING;this.stringValue=this.asString()+d.asString()}else{if(this.isLong()){this.longValue=this.longValue.add(d.asLong())}else{if(this.isBoolean()||this.isDouble()){this.doubleValue+=d.asDouble()}else{this.set_14dthe$(this.asDouble());this.doubleValue+=d.asDouble()}}}},sub_30wzo8$:function(d){if(this.isNull()){this.type=d.type}if(this.isLong()){this.longValue=this.longValue.subtract(d.asLong())}else{if(this.isBoolean()||this.isDouble()){this.doubleValue-=d.asDouble()}else{this.set_14dthe$(this.asDouble());this.doubleValue-=d.asDouble()}}},band_30wzo8$:function(d){if(!this.isLong()){this.set_s8cxhz$(this.asLong())}this.longValue=this.longValue.and(d.asLong())},bxor_30wzo8$:function(d){if(!this.isLong()){this.set_s8cxhz$(this.asLong())}this.longValue=this.longValue.xor(d.asLong())},bor_30wzo8$:function(d){if(!this.isLong()){this.set_s8cxhz$(this.asLong())}this.longValue=this.longValue.or(d.asLong())},and_30wzo8$:function(d){return this.asBoolean()&&d.asBoolean()},or_30wzo8$:function(d){return this.asBoolean()||d.asBoolean()},compareTo_30wzo8$:function(d){var f;f=this.type;if(f===c.com.lodestarlearning.jsparser.ValueType.object.NULL){if(d.isNull()){return 0}else{return -1}}else{if(f===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){var e=d.asDouble();if(Math.abs(e-this.doubleValue)<c.com.lodestarlearning.jsparser.Value.object.DOUBLE_TOLERANCE){return 0}return a.primitiveCompareTo(this.doubleValue,e)}else{if(f===c.com.lodestarlearning.jsparser.ValueType.object.LONG||f===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return this.longValue.compareTo_za3rmp$(d.asLong())}else{if(f===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return a.compareTo(this.stringValue,d.asString())}else{throw new a.IllegalStateException("comparison not allowed on type: "+this.type)}}}}},equals_za3rmp$:function(d){var g;if(!a.isType(d,c.com.lodestarlearning.jsparser.Value)){return false}g=this.type;if(g===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.doubleValue===d.asDouble()}else{if(g===c.com.lodestarlearning.jsparser.ValueType.object.LONG||g===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return this.longValue.equals_za3rmp$(d.asLong())}else{if(g===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return a.equals(this.asString(),d.asString())}else{if(g===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return d.isNull()}else{if(g===c.com.lodestarlearning.jsparser.ValueType.object.ARRAY||g===c.com.lodestarlearning.jsparser.ValueType.object.OBJECT){if(this.size!==d.size){return false}if(!this.type.equals_za3rmp$(d.type)){return false}var e=this.first;var f=d.first;while(e!=null){if(!(e!=null?e:a.throwNPE()).equals_za3rmp$(f)){return false}e=(e!=null?e:a.throwNPE()).next;f=(f!=null?f:a.throwNPE()).next}return true}else{if(g===c.com.lodestarlearning.jsparser.ValueType.object.REFERENCE||g===c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION){return this.type.equals_za3rmp$(d.type)&&a.equals(this.stringValue,d.stringValue)}else{throw new a.IllegalStateException("eq operator not allowed on type: "+this.type)}}}}}}},primitive:function(){var k,j,i;k=this.type;if(k===c.com.lodestarlearning.jsparser.ValueType.object.DOUBLE){return this.asDouble()}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.LONG){return this.asLong()}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.BOOLEAN){return this.asBoolean()}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.STRING){return this.asString()}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.VOID||k===c.com.lodestarlearning.jsparser.ValueType.object.NULL){return null}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.ARRAY){j=a.modules.stdlib.kotlin.Array_t0wa65$(this.size,c.com.lodestarlearning.jsparser.Value.primitive$f);var d=j;var e=0;var h=this.first;while(h!=null){d[e++]=(h!=null?h:a.throwNPE()).primitive();h=(h!=null?h:a.throwNPE()).next}return d}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.OBJECT){var g=new a.DefaultPrimitiveHashMap();var f=this.first;while(f!=null){g.put_wn2jw4$((i=(f!=null?f:a.throwNPE()).name)!=null?i:a.throwNPE(),(f!=null?f:a.throwNPE()).primitive());f=(f!=null?f:a.throwNPE()).next}return g}else{throw new a.IllegalStateException("primitive not allowed on type: "+this.type)}}}}}}}},execute_30wzo8$:function(d){if(!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION)){throw new a.IllegalStateException("Cannot execute a non-function")}return c.com.lodestarlearning.jsparser.Value.object.NULL},clearChildren:function(){this.size=0;this.first=null;this.last=null},remove_30wzo8$:function(e){var h,g,f,d;if(e==null){return}if(e.prev==null){this.first=((h=this.first)!=null?h:a.throwNPE()).next;if(this.first!=null){((g=this.first)!=null?g:a.throwNPE()).prev=null}}else{((f=e.prev)!=null?f:a.throwNPE()).next=e.next;if(e.next!=null){((d=e.next)!=null?d:a.throwNPE()).prev=e.prev}}e.next=null;e.prev=null;this.size--},insert_gzvtks$:function(e,d){var f;if(e==null){this.append_30wzo8$(d);return}else{if(e.equals_za3rmp$(this.first)){this.prepend_30wzo8$(d);return}}d.next=e;d.prev=e.prev;((f=d.prev)!=null?f:a.throwNPE()).next=d;e.prev=d;this.size++},prepend_db2edy$:function(d,e){d.name=e;this.prepend_30wzo8$(d)},prepend_30wzo8$:function(d){var e;if(this.first==null){this.first=d;this.last=d;this.size++;return}((e=this.first)!=null?e:a.throwNPE()).prev=d;d.next=this.first;this.first=d;this.size++},append_db2edy$:function(e,d){e.name=d;this.append_30wzo8$(e)},append_30wzo8$:function(d){var e;if(this.last==null){this.first=d;this.last=d;this.size++;return}((e=this.last)!=null?e:a.throwNPE()).next=d;d.prev=this.last;this.last=d;this.size++},next_30wzo8$:function(d){this.next=d;d.prev=this},next_0:function(){return this.next},prev_0:function(){return this.prev},prev_30wzo8$:function(d){this.prev=d;d.next=this},iterator:function(){if(!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)&&!this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){throw new a.IllegalStateException("Value is not an Object or Array and is not iterable.")}return new c.com.lodestarlearning.jsparser.ValueIterator(this.first)},toString:function(){var d=new a.StringBuilder();this.prettyPrint_7fu060$(d,0);return d.toString()},prettyPrint_7fu060$:function(e,j){var k;k=this.type;if(k===c.com.lodestarlearning.jsparser.ValueType.object.FUNCTION){e.append(this.stringValue);e.append("()");return}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.VOID){return}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.NULL){e.append("null");return}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.REFERENCE){e.append(this.stringValue);return}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.STRING){e.append('"'+this.stringValue+'"');return}else{if(k===c.com.lodestarlearning.jsparser.ValueType.object.OBJECT||k===c.com.lodestarlearning.jsparser.ValueType.object.ARRAY){}else{e.append(this.asString());return}}}}}}if(this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)){e.append("{")}else{if(this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){e.append("[")}}var d=this.isFlat();var g="";var f=j;while(f-->0){g+="\t"}var h=this.first;if(!d){e.append("\n");e.append(g)}while(h!=null){if(!d){e.append("\t")}if(this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)&&(h!=null?h:a.throwNPE()).name!=null){e.append('"');e.append((h!=null?h:a.throwNPE()).name);e.append('": ')}(h!=null?h:a.throwNPE()).prettyPrint_7fu060$(e,j+1);h=(h!=null?h:a.throwNPE()).next;if(h!=null){e.append(", ")}if(!d){e.append("\n");e.append(g)}}if(this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.OBJECT)){e.append("}")}else{if(this.type.equals_za3rmp$(c.com.lodestarlearning.jsparser.ValueType.object.ARRAY)){e.append("]")}}},clear:function(){this.type=c.com.lodestarlearning.jsparser.ValueType.object.VOID;this.doubleValue=0;this.longValue=a.Long.ZERO;this.stringValue="";this.name=null;this.first=null;this.last=null;this.prev=null;this.next=null;this.size=0}},{primitive$f:function(d){return null},object_initializer$:function(){return a.createObject(null,function(){this.DOUBLE_TOLERANCE=0.000001;this.VOID=new c.com.lodestarlearning.jsparser.Value();this.NULL=new c.com.lodestarlearning.jsparser.Value();this.ONE=c.com.lodestarlearning.jsparser.Value_s8cxhz$(a.Long.ONE);this.NULL.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL;this.parseLongAsDouble=false},{fromString_3m52m6$:function(e,f,i){var k,j;var d=e.substring(f,i);var h=new c.com.lodestarlearning.jsparser.Value();if(d.length===0){}else{if(a.equals(d,"null")){h.type=c.com.lodestarlearning.jsparser.ValueType.object.NULL}else{if(a.equals(d,"true")){h.set_6taknv$(true)}else{if(a.equals(d,"false")){h.set_6taknv$(false)}else{if(a.modules.stdlib.kotlin.first_pdl1w0$(d)==='"'||a.modules.stdlib.kotlin.first_pdl1w0$(d)==="'"){if(a.modules.stdlib.kotlin.last_pdl1w0$(d)!==a.modules.stdlib.kotlin.first_pdl1w0$(d)){throw new c.com.lodestarlearning.jsparser.ParseException(f,i,c.com.lodestarlearning.jsparser.ParseExceptionType.object.UNTERMINATED_STRING)}h.set_61zpoe$(d.substring(1,d.length-1))}else{if(this.isIdentifierStart_s8itvh$(d.charAt(0))){h.setReference_61zpoe$(d)}else{if(!this.parseLongAsDouble){k=a.modules.stdlib.kotlin.js.indexOf_960177$(d,".");j=k!==-1}else{j=true}if(j||d.endsWith("f")||d.endsWith("d")){var g=a.safeParseDouble(d);if(g==null){h.set_za3rmp$(null)}else{h.set_14dthe$(g)}}else{h.set_za3lpa$(parseInt(d))}}}}}}}return h},isIdentifierStart_s8itvh$:function(d){return !c.com.lodestarlearning.jsparser.isDigit_myv2d1$(d)}})}}),ValueIterator:a.createClass(function(){return[a.modules.builtins.kotlin.Iterator]},function(d){this.entry=d;this.current=null},{hasNext:function(){return this.entry!=null},next:function(){var e,d;this.current=this.entry;this.entry=((e=this.current)!=null?e:a.throwNPE()).next_0();return(d=this.current)!=null?d:a.throwNPE()}}),ValueType:a.createEnumClass(function(){return[a.Enum]},function b(){b.baseInitializer.call(this)},function(){return{OBJECT:new c.com.lodestarlearning.jsparser.ValueType(),ARRAY:new c.com.lodestarlearning.jsparser.ValueType(),REFERENCE:new c.com.lodestarlearning.jsparser.ValueType(),FUNCTION:new c.com.lodestarlearning.jsparser.ValueType(),STRING:new c.com.lodestarlearning.jsparser.ValueType(),DOUBLE:new c.com.lodestarlearning.jsparser.ValueType(),LONG:new c.com.lodestarlearning.jsparser.ValueType(),BOOLEAN:new c.com.lodestarlearning.jsparser.ValueType(),NULL:new c.com.lodestarlearning.jsparser.ValueType(),VOID:new c.com.lodestarlearning.jsparser.ValueType()}})})})})});a.defineModule("JsParser",c);c.com.lodestarlearning.jsparser.main([])}(Kotlin));